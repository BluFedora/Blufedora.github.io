<!doctype html>

<html lang="en">
    <head>
      <meta charset="utf-8">

      <title>JR Express: DumpTruck</title>
      <meta name="description"  content="Internal Payroll Manager for JR Express">
      <meta name="author"       content="BluFedora of BluWhale Studios">
      <meta name="theme-color"  content="#333">
      <meta name="viewport"     content="width = device-width, initial-scale = 1.0">

      <link rel="stylesheet" href="css/styles.css">
      
      <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase-app.js"></script>
      <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase-firestore.js"></script>
      
      <script>
        // Initialize Firebase
        var config = {
          apiKey: "AIzaSyD28u3r-lUzC8KaMrHNCp-uWGXJFgxTHLE",
          authDomain: "jr-express-payroller.firebaseapp.com",
          databaseURL: "https://jr-express-payroller.firebaseio.com",
          projectId: "jr-express-payroller",
          storageBucket: "",
          messagingSenderId: "757148896133"
        };
        firebase.initializeApp(config);
      </script>
      <script src="js/lib-dialog.js" type="text/javascript"></script>
      <script>
        var truck_to_view = window.sessionStorage.getItem("ss_truck");
        
        if (truck_to_view == undefined)
        {
          alert("This page should not be accessable without a truck to view.");
          window.location.assign("index.html");
        }
        
        var lib_date =
        {
          name_list : [
              "Sunday",
              "Monday",
              "Tuesday",
              "Wednesday",
              "Thursday",
              "Friday",
              "Saturday"
          ],
          to_string_mm_dd_yyy : function(d)
          {
            var dd    = d.getDate();
            var mm    = d.getMonth() + 1; //Month is zero based for some god awful reason
            var yyyy  = d.getFullYear();
            
            if (dd < 10) dd = "0" + dd;
            if (mm < 10) mm = "0" + mm;

            return mm + "/" + dd + "/" + yyyy;
          },
          to_string_day : function(d)
          {
            return this.name_list[d.getDay()];
          }
        };
        
        window.onload = function(evt)
        {
          var today_date = new Date();
          
          document.getElementById("js_truck_name").innerHTML = 
            truck_to_view + " : \"" + lib_date.to_string_mm_dd_yyy(today_date) + "\" " + lib_date.to_string_day(today_date);
          
          var dlog = new Dialog("My Test Dialog");
          
          dlog.pushLabel("My Label");
          dlog.pushInputText(null, "Placeholder TXT");
          dlog.pushLabel("My Label 2");
          dlog.pushOptions([
            
            { value : "value0", label : "Option1" },
            { value : "value1", label : "Option2" },
            { value : "value2", label : "Option3" },
            { value : "value3", label : "Option4" }
            
          ]);
          dlog.pushButton("Single Button");
          dlog.pushButtons(["Accept", "Decline"]);
          
          dlog.show();
        };
      </script>
    </head>

    <body>
      <header>
        <h1>JR Express Payroll : Dump Truck Viewer</h1>
      </header>
        
      <nav>
        <ul>
          <li><a href="index.html">Truck List</a></li>
          <li><a href="index.html">Add Entry</a></li>
        </ul>
      </nav>
      
      <section class="truck_list">
        <h2>
          Truck : <span id="js_truck_name">TRUCK_NAME_HERE (If you see this text here an error occured loading the name)</span>
        </h2>
        
        <article id="js_truck_list">
          <section class="week_item"><h3>Monday</h3></section>
          <section class="week_item"><h3>Tuesday</h3></section>
          <section class="week_item"><h3>Wednesday</h3></section>
          <section class="week_item"><h3>Thursday</h3></section>
          <section class="week_item"><h3>Friday</h3></section>
          <section class="week_item"><h3>Saturday</h3></section>
          <section class="week_item"><h3>Sunday</h3></section>
          <div class="clear"></div>
        </article>
      </section>
      
      <footer>
        <div class='credits'>
          Copyright 2018 &copy; 
          <span style="color:#7ca8ed">
            Shareef 
          </span>
          <span style="color:#666467">
            Raheem
          </span>
        </div>
      </footer>
      
    </body>
</html>
